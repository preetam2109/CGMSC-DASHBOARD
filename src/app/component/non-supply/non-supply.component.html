<div class="container-fluid">
    <div class="container" style="text-align: center; max-width: 100%; overflow-x: auto;">
        <h1 style="color: rgb(50, 50, 164);"><strong>NON SUPPLY DETAILS</strong></h1>
      </div>

    <div class="custom-datepicker-container mt-4">
        <mat-form-field class="filter-field w-100" appearance="fill">
            <mat-label>Date range</mat-label>
            <mat-date-range-input [rangePicker]="picker" [formGroup]="dateRange">
                <input matStartDate placeholder="Start date" formControlName="start">
                <input matEndDate placeholder="End date" formControlName="end">
            </mat-date-range-input>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
    </div>

    <div class="me-2 w-100" >
        <!-- <label class="form-label d-block w-100"><strong>Choose Item</strong>:</label> -->
        <ng-select
          [items]="nonsupplyDropDownList"
          bindLabel="supplierName"
          bindValue="supplierId"
          [(ngModel)]="supplierId"
          name="supplierId"
          (change)="onISelectChange($event)"
          #emailidField="ngModel"
          [placeholder]="!supplierId ? 'Search Supplier' : ''"
          [searchable]="true"
          [clearable]="true"
          [appendTo]="'body'"
          required
          class="form-control "
        >
        </ng-select>
      </div>

      


      <div class="row">
       
        <div class="col-12 text-center mb-2 mt-2">
            <button class="btn btn-primary  w-md-auto" (click)="getNonSupplySummaryDetail()">Show Details</button>
          </div>
        <div class="col-lg-12 col-md-12 table-container mb-4">
          <div class="text d-flex mt-3">
            <!-- <p class="text-warning">
              EMD Data is taken in DPDMIS from Year 2022-23 onwards
            </p> -->
          </div>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="filter-field flex-grow-1">
              <input type="text" class="form-control" placeholder="Filter" (keyup)="applyTextFilter($event)">
            </div>
            <div class="export-menu-container">
              <button mat-button [matMenuTriggerFor]="exportMenu">Export</button>
              <mat-menu #exportMenu="matMenu">
                <button mat-menu-item
                  (click)="exporter.exportTable('xlsx', { fileName: 'nonsupplydetails', sheet: 'nonsupplydetails', Props: { Author: 'cgmsc' }})">Excel</button>
                <!-- <button mat-button (click)="exportToPDF()">PDF</button> -->
              </mat-menu>
            </div>
          </div>
    
          <div class="table-responsive">
            <table class="table table-bordered table-striped" mat-table matTableExporter [dataSource]="dataSource" #exporter="matTableExporter" matSort>
    
<!-- S.No Column -->
<ng-container matColumnDef="sno">
    <th mat-header-cell *matHeaderCellDef style="width: 50px;"> S.No </th>
    <td mat-cell *matCellDef="let element; let i = index"> {{ i + 1 }} </td>
  </ng-container>
  
  <!-- Scheme ID -->
  <ng-container matColumnDef="schemeId">
    <th mat-header-cell *matHeaderCellDef> Scheme ID </th>
    <td mat-cell *matCellDef="let element"> {{ element.schemeId }} </td>
  </ng-container>
  
  <!-- Tender No -->
  <ng-container matColumnDef="tenderNo">
    <th mat-header-cell *matHeaderCellDef> Ref. No </th>
    <td mat-cell *matCellDef="let element"> {{ element.tenderNo }} </td>
  </ng-container>
  
  <!-- Tender Name -->
  <ng-container matColumnDef="tenderName">
    <th mat-header-cell *matHeaderCellDef> Ref. Name </th>
    <td mat-cell *matCellDef="let element"> {{ element.tenderName }} </td>
  </ng-container>
  
  <!-- Item Code -->
  <ng-container matColumnDef="itemCode">
    <th mat-header-cell *matHeaderCellDef>  Code </th>
    <td mat-cell *matCellDef="let element"> {{ element.itemCode }} </td>
  </ng-container>
  
  <!-- Item Name -->
  <ng-container matColumnDef="itemName">
    <th mat-header-cell *matHeaderCellDef> Item  </th>
    <td mat-cell *matCellDef="let element"> {{ element.itemName }} </td>
  </ng-container>
  
  <!-- Strength -->
  <ng-container matColumnDef="strength1">
    <th mat-header-cell *matHeaderCellDef> Strength </th>
    <td mat-cell *matCellDef="let element"> {{ element.strength1 }} </td>
  </ng-container>
  
  <!-- Unit -->
  <ng-container matColumnDef="unit">
    <th mat-header-cell *matHeaderCellDef> Unit </th>
    <td mat-cell *matCellDef="let element"> {{ element.unit }} </td>
  </ng-container>
  
  <!-- Category -->
  <ng-container matColumnDef="mCategory">
    <th mat-header-cell *matHeaderCellDef> Category </th>
    <td mat-cell *matCellDef="let element"> {{ element.mCategory }} </td>
  </ng-container>
  
  <!-- EDL Type -->
  <ng-container matColumnDef="edlType">
    <th mat-header-cell *matHeaderCellDef> EDL Type </th>
    <td mat-cell *matCellDef="let element"> {{ element.edlType }} </td>
  </ng-container>
  
  <!-- PO No ID -->
  <ng-container matColumnDef="poNoId">
    <th mat-header-cell *matHeaderCellDef> PO No ID </th>
    <td mat-cell *matCellDef="let element"> {{ element.poNoId }} </td>
  </ng-container>
  
  <!-- PO No -->
  <ng-container matColumnDef="poNo">
    <th mat-header-cell *matHeaderCellDef> PO No </th>
    <td mat-cell *matCellDef="let element"> {{ element.poNo }} </td>
  </ng-container>
  
  <!-- PO Date -->
  <ng-container matColumnDef="podate">
    <th mat-header-cell *matHeaderCellDef> PO Date </th>
    <td mat-cell *matCellDef="let element"> {{ element.podate }} </td>
  </ng-container>
  
  <!-- Extended Date -->
  <ng-container matColumnDef="extendedDate">
    <th mat-header-cell *matHeaderCellDef> Extended Date </th>
    <td mat-cell *matCellDef="let element"> {{ element.extendedDate || '-' }} </td>
  </ng-container>
  
  <!-- PO Qty -->
  <ng-container matColumnDef="poQty">
    <th mat-header-cell *matHeaderCellDef> PO Qty </th>
    <td mat-cell *matCellDef="let element"> {{ element.poQty }} </td>
  </ng-container>
  
  <!-- Receipt Qty -->
  <ng-container matColumnDef="receiptQty">
    <th mat-header-cell *matHeaderCellDef> Receipt Qty </th>
    <td mat-cell *matCellDef="let element"> {{ element.receiptQty }} </td>
  </ng-container>
  
  <!-- Pipeline Qty -->
  <ng-container matColumnDef="pipelineQty">
    <th mat-header-cell *matHeaderCellDef> Pipeline Qty </th>
    <td mat-cell *matCellDef="let element"> {{ element.pipelineQty }} </td>
  </ng-container>
  
  <!-- Supply % -->
  <ng-container matColumnDef="supplyPer">
    <th mat-header-cell *matHeaderCellDef> Supply % </th>
    <td mat-cell *matCellDef="let element"> {{ element.supplyPer }} </td>
  </ng-container>
  
  <!-- Duration -->
  <ng-container matColumnDef="duration">
    <th mat-header-cell *matHeaderCellDef> Duration </th>
    <td mat-cell *matCellDef="let element"> {{ element.duration }} </td>
  </ng-container>
  
  <!-- Supplier ID -->
  <ng-container matColumnDef="supplierId">
    <th mat-header-cell *matHeaderCellDef> Supplier ID </th>
    <td mat-cell *matCellDef="let element"> {{ element.supplierId }} </td>
  </ng-container>
  
  <!-- Supplier Name -->
  <ng-container matColumnDef="supplierName">
    <th mat-header-cell *matHeaderCellDef> Supplier Name </th>
    <td mat-cell *matCellDef="let element"> {{ element.supplierName }} </td>
  </ng-container>
  
  <!-- No. of Days -->
  <ng-container matColumnDef="noOfDays">
    <th mat-header-cell *matHeaderCellDef> No. of Days </th>
    <td mat-cell *matCellDef="let element"> {{ element.noOfDays }} </td>
  </ng-container>
  
  <!-- Header Row -->
  <tr mat-header-row *matHeaderRowDef="[
    'sno',
    'tenderNo',
    'tenderName',
    'itemCode',
    'itemName',
    'strength1',
    'unit',
    'mCategory',
    'edlType',
    'poNo',
    'podate',
    'extendedDate',
    'poQty',
    'receiptQty',
    'pipelineQty',
    'supplyPer',
    'duration',
    'supplierName',
    'noOfDays'
  ]"></tr>
  
  <!-- Data Row -->
  <tr mat-row *matRowDef="let row; columns: [
    'sno',
    'tenderNo',
    'tenderName',
    'itemCode',
    'itemName',
    'strength1',
    'unit',
    'mCategory',
    'edlType',
    'poNo',
    'podate',
    'extendedDate',
    'poQty',
    'receiptQty',
    'pipelineQty',
    'supplyPer',
    'duration',
    'supplierName',
    'noOfDays'
  ];"></tr>
  

    
            </table>
          </div>      
          <mat-paginator [pageSizeOptions]="[10, 15, 30]" showFirstLastButtons></mat-paginator>
        </div>
      </div>


    </div>