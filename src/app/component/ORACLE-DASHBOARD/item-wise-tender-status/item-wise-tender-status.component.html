<!-- <h1>Dashboard</h1> document -->
<!-- <div class="container-fluid">
    <iframe 
      title="DPDMIS" 
      src=""
      frameborder="0" 
      allowFullScreen="true"
      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;">
    </iframe>
</div> -->
<!-- tender-status.component.html -->



<!-- <div class="oracle-dv-container">
    <oracle-dv 
      project-path="/@Catalog/shared/Tender Status /TenderStatus" 
      active-page="insight" 
      active-tab-id="snapshot!canvas!1">
    </oracle-dv>
  
    <oracle-dv 
      project-path="/@Catalog/shared/Tender Status /TenderStatus" 
      active-page="insight" 
      active-tab-id="snapshot!canvas!2">
    </oracle-dv>
  </div> -->

  
  <!-- <iframe 
  src="https://cgmscanalytics-cgmscee-bo.analytics.ocp.oraclecloud.com/dv/ui?projectPath=/@Catalog/shared/Tender%20Status/TenderStatus"
  width="100%" 
  height="800" 
  frameborder="0">
</iframe>
 -->


  


 <!-- <!DOCTYPE html>
 <html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=Basic, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cgmscanalytics-cgmscee-bo.analytics.ocp.oraclecloud.com/public/dv/v1/embedding/standalone/embedding.js" type="application/javascript">
    </script>
 </head>
 <body>

    <div style="position: absolute; width: 100%;height: 100%;">

       <oracle-dv project-path="/@Catalog/shared/Tender Status /TenderStatus" active-page="insight" active-tab-id="snapshot!canvas!1">


        </oracle-dv>

    </div>
    
 </body>

 <script> 
    requirejs(['knockout', 'ojs/ojcore', 'ojs/ojknockout', 'ojs/ojcomposite', 'jet-composites/oracle-dv/loader'],function(ko) { 
     ko.applyBindings(); 
     }); 
</script>

 </html> -->



<!-- with login -->
 <!-- <iframe
    class="oac_embedding_iframe"
    style="height:800px; width:100%;" 
    srcdoc='
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OAC</title>
    <script src="https://cgmscanalytics-cgmscee-bo.analytics.ocp.oraclecloud.com/public/dv/v1/embedding/standalone/embedding.js" type="application/javascript"></script>
    <script> 
        requirejs(
          ["knockout", "ojs/ojcore", "ojs/ojknockout", "ojs/ojcomposite", "jet-composites/oracle-dv/loader"],
          function(ko) { ko.applyBindings(); }
        ); 
    </script>
</head>
<body>
    <div style="width: 100%; height: 700px;">
        <oracle-dv 
          project-path="/@Catalog/shared/Tender Status /TenderStatus" 
          active-page="insight" 
          active-tab-id="snapshot!canvas!1">
        </oracle-dv>
        <oracle-dv 
        project-path="/@Catalog/shared/Tender Status /TenderStatus" 
        active-page="insight" 
        active-tab-id="snapshot!canvas!2">
      </oracle-dv>
    </div>
</body>
</html>'>
</iframe> -->

<!-- without login oauth -->
<!-- sahi code  -->
<!-- <div>
  <h3>Tender Status </h3>
</div> -->

<iframe
    class="oac_embedding_iframe"
    style="height:800px; width:100%;" 
    srcdoc='
    <!DOCTYPE html>
    <html lang="en" dir="ltr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>OAC TEST</title>
        <script src="https://cgmscanalytics-cgmscee-bo.analytics.ocp.oraclecloud.com/public/dv/v1/embedding/standalone/embedding.js" type="application/javascript"></script>
        <script>
  var token = "";

  function fetchAndSetToken() {
    fetch("https://kcthepe5e6xwemxr36bzoz4xgq.apigateway.ap-mumbai-1.oci.customer-oci.com/oac/auth_token")
      .then(response => {
        if (!response.ok) {
          throw new Error("HTTP error! status:"+response.status);
        }
        return response.json();
      })
      .then(data => {
        token = data.access_token;
        console.log("New token fetched:", token);

        // update security config dynamically
        requirejs(["jquery", "knockout", "obitech-application/application","ojs/ojcore", "ojs/ojknockout", "ojs/ojcomposite", "jet-composites/oracle-dv/loader"], 
        function($, ko, application) {
          application.setSecurityConfig("token", {
            tokenAuthFunction: function() {
              return token;
            }
          });
          ko.applyBindings();
        });
      })
      .catch(error => {
        console.error("Error fetching token:", error);
      });
  }

  // Initial fetch + setup
  fetchAndSetToken();

  // Refresh every 45 minutes
  setInterval(fetchAndSetToken, 45 * 60 * 1000);
</script>
    </head>
    <body>
        <div style="width: 100%; height: 700px;">
            <oracle-dv project-path="/@Catalog/shared/Tender Status /TenderStatus" active-page="insight" active-tab-id="snapshot!canvas!9">
            </oracle-dv>
        </div>
    </body>
    </html>
'>
</iframe>


