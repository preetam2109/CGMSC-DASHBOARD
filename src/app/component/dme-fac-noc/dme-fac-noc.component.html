<div class="container-fluid">
    <div class="container" style="text-align: center; max-width: 100%; overflow-x: auto;">
        <h1 style="color: rgb(50, 50, 164);"><strong>NOC DETAILS</strong></h1>
      </div>

      
    <!-- First Group -->
<div class="row mb-3 mt-4">
    <div class="col-md-6 d-flex flex-wrap">
      <div class="form-check me-3">
        <input class="form-check-input" type="radio" name="categoryGroup" id="drugs" 
               [(ngModel)]="selectedCategory" value="Drugs" (change)="updateSelectedCat()" />
        <label class="form-check-label" for="drugs">Drugs</label>
      </div>
      <div class="form-check me-3">
        <input class="form-check-input" type="radio" name="categoryGroup" id="consumables" 
               [(ngModel)]="selectedCategory" value="Consumables" (change)="updateSelectedCat()" />
        <label class="form-check-label" for="consumables">Consumables</label>
      </div>
      <div class="form-check me-3">
        <input class="form-check-input" type="radio" name="categoryGroup" id="reagent" 
               [(ngModel)]="selectedCategory" value="Reagent" (change)="updateSelectedCat()" />
        <label class="form-check-label" for="reagent">Reagent</label>
      </div>
      <div class="form-check me-3">
        <input class="form-check-input" type="radio" name="categoryGroup" id="ayush" 
               [(ngModel)]="selectedCategory" value="AYUSH" (change)="updateSelectedCat()" />
        <label class="form-check-label" for="ayush">AYUSH</label>
      </div>
    </div>
  </div>

  <div class="custom-datepicker-container mt-4">
    <mat-form-field class="filter-field w-100" appearance="fill">
        <mat-label>Date range</mat-label>
        <mat-date-range-input [rangePicker]="picker" [formGroup]="dateRange">
            <input matStartDate placeholder="Start date" formControlName="start">
            <input matEndDate placeholder="End date" formControlName="end">
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
    </mat-form-field>
</div>
  
  <div class="form-group mb-2">
    <label for="yearSelect"><strong>Procurement Year</strong></label>
    <select id="yearSelect" class="form-control" (change)="onYearChange($event)">
      <option value="">-- Select Year --</option>
      <option *ngFor="let year of years" [value]="year.id">
        {{ year.label }}
      </option>
    </select>
  </div>
  

    <div class="me-2 w-100" >
        <label class="form-label d-block w-100"><strong>Select Facility</strong></label>
        <ng-select
          [items]="DmeFacNocSummary"
          bindLabel="facilityname"
          bindValue="facilityid"
          [(ngModel)]="facilityid"
          name="facilityid"
          (change)="onISelectChange($event)"
          #emailidField="ngModel"
          [placeholder]="!facilityid ? 'Search Facility' : ''"
          [searchable]="true"
          [clearable]="true"
          [appendTo]="'body'"
          required
          class="form-control "
        >
        </ng-select>
      </div>

      


      <div class="row">
       
        <div class="col-12 text-center mb-2 mt-2">
            <button class="btn btn-primary  w-md-auto" (click)="getDmeFacNocDetail()">Show Details</button>
          </div>
        <div class="col-lg-12 col-md-12 table-container mb-4">
          <div class="text d-flex mt-3">
            <!-- <p class="text-warning">
              EMD Data is taken in DPDMIS from Year 2022-23 onwards
            </p> -->
          </div>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="filter-field flex-grow-1">
              <input type="text" class="form-control" placeholder="Filter" (keyup)="applyTextFilter($event)">
            </div>
            <div class="export-menu-container">
              <button mat-button [matMenuTriggerFor]="exportMenu">Export</button>
              <mat-menu #exportMenu="matMenu">
                <button mat-menu-item
                  (click)="exporter.exportTable('xlsx', { fileName: 'DmeFacNocDetails', sheet: 'DmeFacNocDetails', Props: { Author: 'cgmsc' }})">Excel</button>
                <!-- <button mat-button (click)="exportToPDF()">PDF</button> -->
              </mat-menu>
            </div>
          </div>
    
          <div class="table-responsive">
            <table class="table table-bordered table-striped" mat-table matTableExporter [dataSource]="dataSource" #exporter="matTableExporter" matSort>
    
<!-- S.No -->
<ng-container matColumnDef="sno">
    <th mat-header-cell *matHeaderCellDef style="width: 50px;"> S.No </th>
    <td mat-cell *matCellDef="let element; let i = index"> {{ i + 1 }} </td>
  </ng-container>
  
  <!-- Category -->
  <ng-container matColumnDef="mcategory">
    <th mat-header-cell *matHeaderCellDef> Category </th>
    <td mat-cell *matCellDef="let element"> {{ element.mcategory }} </td>
  </ng-container>
  
  <!-- EDL Type -->
  <ng-container matColumnDef="eDlType">
    <th mat-header-cell *matHeaderCellDef> EDL Type </th>
    <td mat-cell *matCellDef="let element"> {{ element.eDlType }} </td>
  </ng-container>
  
  <!-- Facility -->
  <ng-container matColumnDef="facilityname">
    <th mat-header-cell *matHeaderCellDef> Facility </th>
    <td mat-cell *matCellDef="let element"> {{ element.facilityname }} </td>
  </ng-container>
  
  <!-- District -->
  <ng-container matColumnDef="districtname">
    <th mat-header-cell *matHeaderCellDef> District </th>
    <td mat-cell *matCellDef="let element"> {{ element.districtname }} </td>
  </ng-container>
  
  <!-- Item Code -->
  <ng-container matColumnDef="itemcode">
    <th mat-header-cell *matHeaderCellDef> Code </th>
    <td mat-cell *matCellDef="let element"> {{ element.itemcode }} </td>
  </ng-container>
  
  <!-- Item Name -->
  <ng-container matColumnDef="itemname">
    <th mat-header-cell *matHeaderCellDef> Item </th>
    <td mat-cell *matCellDef="let element"> {{ element.itemname }} </td>
  </ng-container>
  
  <!-- Strength -->
  <ng-container matColumnDef="strength1">
    <th mat-header-cell *matHeaderCellDef> Strength </th>
    <td mat-cell *matCellDef="let element"> {{ element.strength1 }} </td>
  </ng-container>
  
  <!-- Unit -->
  <ng-container matColumnDef="unit">
    <th mat-header-cell *matHeaderCellDef> Unit </th>
    <td mat-cell *matCellDef="let element"> {{ element.unit }} </td>
  </ng-container>
  
  <!-- Unit C -->
  <ng-container matColumnDef="unitc">
    <th mat-header-cell *matHeaderCellDef> Unit C </th>
    <td mat-cell *matCellDef="let element"> {{ element.unitc }} </td>
  </ng-container>
  
  <!-- Facility AI Qty -->
  <ng-container matColumnDef="facAIQty">
    <th mat-header-cell *matHeaderCellDef> Facility AI Qty </th>
    <td mat-cell *matCellDef="let element"> {{ element.facAIQty }} </td>
  </ng-container>
  
  <!-- CGMSC Issue Qty -->
  <ng-container matColumnDef="cgmsCissueqty">
    <th mat-header-cell *matHeaderCellDef> CGMSC Issue Qty </th>
    <td mat-cell *matCellDef="let element"> {{ element.cgmsCissueqty }} </td>
  </ng-container>
  
  <!-- Count NOC -->
  <ng-container matColumnDef="cntNoc">
    <th mat-header-cell *matHeaderCellDef>  NOC Count </th>
    <td mat-cell *matCellDef="let element"> {{ element.cntNoc }} </td>
  </ng-container>
  
  <!-- NOC Qty -->
  <ng-container matColumnDef="nocQty">
    <th mat-header-cell *matHeaderCellDef> NOC Qty </th>
    <td mat-cell *matCellDef="let element"> {{ element.nocQty }} </td>
  </ng-container>
  
  <!-- NOC Value -->
  <ng-container matColumnDef="nocValue">
    <th mat-header-cell *matHeaderCellDef> NOC Value </th>
    <td mat-cell *matCellDef="let element"> {{ element.nocValue }} </td>
  </ng-container>
  
  <!-- PO SKU -->
  <ng-container matColumnDef="posku">
    <th mat-header-cell *matHeaderCellDef> PO SKU </th>
    <td mat-cell *matCellDef="let element"> {{ element.posku }} </td>
  </ng-container>
  
  <!-- PO Value -->
  <ng-container matColumnDef="povalue">
    <th mat-header-cell *matHeaderCellDef> PO Value </th>
    <td mat-cell *matCellDef="let element"> {{ element.povalue }} </td>
  </ng-container>
  
  <!-- Receipt Qty SKU -->
  <ng-container matColumnDef="receiptqtySKU">
    <th mat-header-cell *matHeaderCellDef> Receipt Qty SKU </th>
    <td mat-cell *matCellDef="let element"> {{ element.receiptqtySKU }} </td>
  </ng-container>
  
  <!-- Received Value -->
  <ng-container matColumnDef="recvalue">
    <th mat-header-cell *matHeaderCellDef> Received Value </th>
    <td mat-cell *matCellDef="let element"> {{ element.recvalue }} </td>
  </ng-container>
  
  <!-- Header Row -->
  <tr mat-header-row *matHeaderRowDef="[
    'sno',
    'mcategory',
    'eDlType',
    'facilityname',
    'districtname',
    'itemname',
    'itemcode',
    'strength1',
    'unit',
    'unitc',
    'facAIQty',
    'cgmsCissueqty',
    'cntNoc',
    'nocQty',
    'nocValue',
    'posku',
    'povalue',
    'receiptqtySKU',
    'recvalue'
  ]"></tr>
  
  <!-- Data Row -->
  <tr mat-row *matRowDef="let row; columns: [
    'sno',
    'mcategory',
    'eDlType',
    'facilityname',
    'districtname',
    'itemname',
    'itemcode',
    'strength1',
    'unit',
    'unitc',
    'facAIQty',
    'cgmsCissueqty',
    'cntNoc',
    'nocQty',
    'nocValue',
    'posku',
    'povalue',
    'receiptqtySKU',
    'recvalue'
  ];"></tr>
  


    
            </table>
          </div>      
          <mat-paginator [pageSizeOptions]="[10, 15, 30]" showFirstLastButtons></mat-paginator>
        </div>
      </div>


    </div>