<!-- <div class="container mt-4">
  <div class="row">
    <div class="col-sm-12 col-md-6 col-lg-4" *ngFor="let item of menuItems; let i = index">
      
      <div
        [style.background-color]="colors[i % colors.length]"
        class="card mb-4 shadow-sm"
        [routerLink]="item.route"
        style="cursor: pointer;"
      >
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            
            <mat-icon class="mat-icon">{{ item.icon }}</mat-icon> 
            <h5 class="card-title ">{{ item.label }}</h5>
            <mat-icon *ngIf="item.submenu" (click)="toggleSubmenu(item.label); $event.stopPropagation();">
              {{ expandedMenus[item.label] ? 'expand_less' : 'expand_more' }}
            </mat-icon>
          </div>
          <div *ngIf="expandedMenus[item.label]" class="submenu">
            <div *ngFor="let subItem of item.submenu">
              <button
                [routerLink]="subItem.route"
                class="btn btn-link"
                (click)="closeSubmenu(); $event.stopPropagation();"
              >
                <mat-icon class="mr-2">subdirectory_arrow_right</mat-icon>
                {{ subItem.label }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> -->

<!-- <div class="container mt-4">
  <div class="card shadow">
   
    <div class="card-header d-flex align-items-center">
      <img src="https://via.placeholder.com/40" alt="Card Title Image" class="me-2" />
      <h5 class="mb-0">Card Title</h5>
    </div>
    
    <div class="card-body d-flex align-items-center">
      <img src="https://via.placeholder.com/80" alt="Body Image" class="me-3" />
      <p class="mb-0 text-center flex-fill">
        This is the body text of the card. It is centered within the body and complements the image on the left.
      </p>
    </div>
  </div>
</div> -->



 <!-- <div class="container mt-4">
  <div class="row">
    <div class="col-sm-12 col-md-6 col-lg-4" *ngFor="let item of menuItems let i = index">
      <div [style.background-color]="colors[i % colors.length]" class="card mb-4 shadow-sm" [routerLink]="item.route" style="cursor: pointer;">
        <div class="card-body">

          <div class="d-flex justify-content-between align-items-center">
              <div class="col-sm-12 col-md-4">

                <img *ngIf="labelToIconMap[item.label]" [src]="labelToIconMap[item.label]" alt="{{item.label}} icon" class="w-100">
              </div>
              <div class="col-sm-12 col-md-8">
                <h5 class="card-title">{{ item.label }}</h5>

              </div>            

            <mat-icon *ngIf="item.submenu" (click)="toggleSubmenu(item.label); $event.stopPropagation();">
              {{ expandedMenus[item.label] ? 'expand_less' : 'expand_more' }}
            </mat-icon>

          </div>

          <div *ngIf="expandedMenus[item.label]" class="submenu">
            <div *ngFor="let subItem of item.submenu">
              <button [routerLink]="subItem.route" class="btn btn-link" (click)="closeSubmenu(); $event.stopPropagation();">
                <mat-icon class="mr-2">subdirectory_arrow_right</mat-icon>
                {{ subItem.label }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>  -->




<div class="container my-4 mb-4"  *ngIf="['SEC1', 'DHS', 'Collector'].includes(roleName)">
  <div class="row">
    <!-- Card 1 -->
    <div class="col-12 col-sm-6 col-md-3 mb-3">
      <div class="card text-center p-3 shadow" style="background: linear-gradient(to right, #1fd1f9, #a8c1f1); color: white;">
        <div class="card-body">
          <h6 class="card-title">No of Ordered Drugs C.F.Y.</h6>
          <h2 class="card-value">{{totalpoitems}}</h2>
          <p class="card-text">PO : {{ totalpovalue }} Cr., Received : {{ totalrecvalue }} Cr.</p>
        </div>
      </div>
    </div>

    <!-- Card 2 -->
    <div class="col-12 col-sm-6 col-md-3 mb-3">
      <div class="card text-center p-3 shadow" style="background: linear-gradient(to right, #c346f1, #f8796b); color: white;">
        <div class="card-body">
          <h6 class="card-title">Distribution of Drugs C.F.Y.</h6>
          <h2 class="card-value">{{nositemsI}}</h2>
          <p class="card-text">Supplied: {{ totalValuecr }} Cr. , Facility : {{ nosfacility }}</p>

        </div>
      </div>
    </div>

    <!-- Card 3 -->
    <div class="col-12 col-sm-6 col-md-3 mb-3">
      <div class="card text-center p-3 shadow" style="background: linear-gradient(to right, #ff9a44, #f25c59); color: white;">
        <div class="card-body">
          <h6 class="card-title">Indent Received in Warehouse C.F.Y.</h6>
          <h2 class="card-value">{{nosindent}}</h2>
          <p class="card-text">Delivered: {{ indentIssued }} , Facility : {{ nooffacIndented }}</p>
        </div>
      </div>
    </div>

    <!-- Card 4 -->
    <div class="col-12 col-sm-6 col-md-3 mb-3"   >
      <div class="card text-center p-3 shadow" style="background: linear-gradient(to right, #43a0ff, #68d8ff); color: white;">
        <div class="card-body">
          <h6 class="card-title">Indent Pending in Warehouse</h6>
          <h2 class="card-value"> {{ nosIndent }}</h2>
          <p class="card-text"> No of Items: {{ nositems }} , Facility: {{ nosfac }}</p>
          <!-- <ul class="list-unstyled">
              <li>
                  <span class="card-value">No of Facility: {{ nosfac }}</span>
              </li>
              <li>
                  <span class="card-value">No of Indent: {{ nosIndent }}</span>
              </li>
              <li>
                  <span class="card-value">No of Items: {{ nositems }}</span>
              </li>
          </ul> -->
          <!-- <p class="card-text">10% Higher Than Last Month</p> -->
        </div>
      </div>
    </div>

    <!-- Card 5
    <div class="col-12 col-sm-6 col-md-3 mb-3">
      <div class="card text-center p-3 shadow" style="background: linear-gradient(to right, #3f5efb, #fc466b); color: white;">
        <div class="card-body">
          <h6 class="card-title">Total RC Drugs</h6>
          <h2 class="card-value">{{nosindent}}</h2>
          <p class="card-text">Delivered: {{ indentIssued }} , Facility : {{ nooffacIndented }}</p>
        </div>
      </div>
    </div> -->
    
  </div>
</div>







<div class="container my-4 mb-4" *ngIf="['SEC1', 'DHS', 'Collector'].includes(roleName)" >
  <div class="row">
    <!-- Card 1 -->‌
    <div class="col-12 col-sm-6 col-md-3 mb-3">
      <div class="card shadow p-0 m-0" style="height: 100%; width: 100%;">
        <div class="card-body">
          <apx-chart class="border rounded" style="background-color: #ff8fa3;"
          [series]="chartOptions1.series" [chart]="chartOptions1.chart" [dataLabels]="chartOptions1.dataLabels"
          [plotOptions]="chartOptions1.plotOptions" [xaxis]="chartOptions1.xaxis" [stroke]="chartOptions1.stroke"
          [fill]="chartOptions1.fill" [yaxis]="chartOptions1.yaxis" [title]="chartOptions1.title"
          [tooltip]="chartOptions1.tooltip" [legend]="chartOptions1.legend"  >
          </apx-chart>‍‍‌
          <h5 class="card-title mt-3">Last 7 Days Distribution</h5>
          <p class="card-text text-success">
            <!-- <i class="bi bi-arrow-up"></i> 55% increase in today's sales. -->
          </p>
          <p class="card-text text-muted">
            <small>Value in Cr.</small>
          </p>
        </div>
      </div>
    </div>

    <!-- Card 2 -->
    <div class="col-12 col-sm-6 col-md-3 mb-3">
      <div class="card shadow p-0 m-0" style="height: 100%; width: 100%;">
        <div class="card-body">
          <apx-chart  class="border rounded" style="background-color: #ecf39e;"
          [series]="chartOptions2.series" [chart]="chartOptions2.chart" [dataLabels]="chartOptions2.dataLabels"
          [plotOptions]="chartOptions2.plotOptions" [xaxis]="chartOptions2.xaxis" [stroke]="chartOptions2.stroke"
          [fill]="chartOptions2.fill" [yaxis]="chartOptions2.yaxis" [title]="chartOptions2.title"
          [tooltip]="chartOptions2.tooltip" [legend]="chartOptions2.legend" >
          </apx-chart>
          <h5 class="card-title mt-3">Last 7 days Receipt</h5>
          <!-- <p class="card-text">Last Campaign Performance</p> -->
          <p class="card-text text-muted">
            <small>Value in Cr.</small>

          </p>
        </div>
      </div>
    </div>

    <!-- Card 3 -->
    <!-- <div class="col-12 col-sm-6 col-md-3 mb-3">
      <div class="card shadow p-0 m-0" style="height: 100%; width: 100%;">
        <div class="card-body">
          <apx-chart  class="border rounded" style="background-color: #c77dff;"
          [series]="chartOptions.series" [chart]="chartOptions.chart" [dataLabels]="chartOptions.dataLabels"
          [labels]="chartOptions.labels"
          [plotOptions]="chartOptions.plotOptions" [xaxis]="chartOptions.xaxis" [stroke]="chartOptions.stroke"
          [fill]="chartOptions.fill" [yaxis]="chartOptions.yaxis" [title]="chartOptions.title"
          [tooltip]="chartOptions.tooltip" [legend]="chartOptions.legend">
          </apx-chart>
          <div class="d-flex align-items-center">
            <img  routerLink="/DropAppWarehousePerformance"  style="width: 70px; height: 50px; margin-right: 20px; padding: 2px;" src="assets/dash-icon/delivery-service.png" alt="Delivery Icon">
            <div>
              
              <h5 class="card-title ml-3">Indent Vs Delivery</h5>
              <p class="card-text">{{currentMonth}} Month</p>
            </div>
          </div>
          <p class="card-text text-muted">
          </p>
        </div>
      </div>
    </div> -->

    <!-- edl non edl pie chart  Card 4 -->
    <div class="col-12 col-sm-6 col-md-3 mb-3">
      <div class="card shadow p-0 m-0" style="height: 100%; width: 100%;">
        <div class="card-body">
          <apx-chart  class="border rounded" style="background-color: #ecf39e;"
          [series]="chartOptions3.series" [chart]="chartOptions3.chart" [dataLabels]="chartOptions3.dataLabels"
          [labels]="chartOptions3.labels"
          [plotOptions]="chartOptions3.plotOptions" [xaxis]="chartOptions3.xaxis" [stroke]="chartOptions3.stroke"
          [fill]="chartOptions3.fill" [yaxis]="chartOptions3.yaxis" [title]="chartOptions3.title"
          [tooltip]="chartOptions3.tooltip" [legend]="chartOptions3.legend">
          </apx-chart>
          <div class="d-flex align-items-center">
            <!-- <img  routerLink="/DropAppWarehousePerformance"  style="width: 70px; height: 50px; margin-right: 20px; padding: 2px;" src="assets/dash-icon/delivery-service.png" alt="Delivery Icon"> -->
            <div>
              
              <h5 class="card-title ml-3">Drugs  Rate Contract </h5>
              <!-- <p class="card-text">{{currentMonth}} Month</p> -->
            </div>
          </div>
          <p class="card-text text-muted">
            <!-- <small>Campaign sent 2 days ago</small> -->
          </p>
        </div>
      </div>
    </div>
    <!-- current stock home  Card 5 -->
    <div class="col-12 col-sm-6 col-md-3 mb-3">
      <div class="card shadow p-0 m-0" style="height: 100%; width: 100%;">
        <div class="card-body">
          <apx-chart  class="border rounded" style="background-color: #aade9f;"
          [series]="chartOptions4.series" [chart]="chartOptions4.chart" [dataLabels]="chartOptions4.dataLabels"
          [labels]="chartOptions4.labels"
          [plotOptions]="chartOptions4.plotOptions" [xaxis]="chartOptions4.xaxis" [stroke]="chartOptions4.stroke"
          [fill]="chartOptions4.fill" [yaxis]="chartOptions4.yaxis" [title]="chartOptions4.title"
          [tooltip]="chartOptions4.tooltip" [legend]="chartOptions4.legend">
          </apx-chart>
          <div class="d-flex align-items-center">
            <!-- <img  routerLink="/DropAppWarehousePerformance"  style="width: 70px; height: 50px; margin-right: 20px; padding: 2px;" src="assets/dash-icon/delivery-service.png" alt="Delivery Icon"> -->
            <div>
              
              <h5 class="card-title ml-3">Current Stock</h5>
              <!-- <p class="card-text">{{currentMonth}} Month</p> -->
            </div>
          </div>
          <p class="card-text text-muted">
            <!-- <small>Campaign sent 2 days ago</small> -->
          </p>
        </div>
      </div>
    </div>

  </div>
</div>




<div class="container my-4 mb-4" style="height: 20vh;" *ngIf="['SEC1', 'DHS', 'Collector'].includes(roleName)" >
  <div class="row justify-content-center" style="height: 20vh;">
    <div class="col-12">
      <div class="card shadow p-3 w-100" style="height: 80%;">
        <div class="card-body">
          <!-- <h5 class="card-title text-center">Search Item</h5> -->
          <div class="mb-3 w-100 d-flex align-items-center">
            <div class="me-2 w-100" >
            <!-- <label class="form-label d-block w-100"><strong>Choose Item</strong>:</label> -->
            <ng-select
              [items]="MasIndentitemslist"
              bindLabel="nameText"
              bindValue="itemid"
              [(ngModel)]="itemid"
              name="itemid"
              (change)="onISelectChange($event)"
              #emailidField="ngModel"
              [placeholder]="!itemid ? 'Search Item' : ''"
              [searchable]="true"
              [clearable]="true"
              [appendTo]="'body'"
              required
              class="form-control "
            >
            </ng-select>
          </div>
          <img  (click)="searchItem()"  style="width: 50px;height: 50px;" src="assets/dash-icon/magnifier.png" alt="">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>











<div class="container mt-4">
  <div class="row">
    <ng-container *ngFor="let item of menuItems; let i = index">
      <!-- Main Menu Item -->
      <div class="col-sm-12 col-md-6 col-lg-4">
        <div [style.background-color]="colors[i % colors.length]" class="card mb-4 shadow-sm" [routerLink]="item.route" style="cursor: pointer;">
          <div class="card-body d-flex flex-column align-items-center text-center">
            <!-- Image Section -->
            <div class="card-icon">
              <img 
                *ngIf="labelToIconMap[item.label]" 
                [src]="labelToIconMap[item.label]" 
                alt="{{item.label}} icon" 
                class="responsive-img"
              />
            </div>
            <!-- Text Section -->
            <h5 class="card-title mb-0 text-center">{{ item.label }}</h5>
          </div>
        </div>
      </div>

      <!-- Submenu Items -->
      <ng-container *ngIf="item.submenu">
        <div class="col-sm-12 col-md-6 col-lg-4" *ngFor="let sub of item.submenu">
          <div class="card mb-4 shadow-sm" [routerLink]="sub.route" style="cursor: pointer; background-color: #f8f9fa;">
            <div class="card-body d-flex flex-column align-items-center text-center">
              <!-- Image Section -->
              <div class="card-icon">
                <img 
                  *ngIf="labelToIconMap[sub.label]" 
                  [src]="labelToIconMap[sub.label]" 
                  alt="{{sub.label}} icon" 
                  class="responsive-img"
                />
              </div>
              <!-- Text Section -->
              <h6 class="card-title mb-0 text-center">{{ sub.label }}</h6>
            </div>
          </div>
        </div>
      </ng-container>
    </ng-container>
  </div>
</div>
